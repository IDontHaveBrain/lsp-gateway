# Simple LSP Test Repositories Configuration
# One repository per language for clean, focused testing
# Last updated: 2025-07-22

metadata:
  version: "1.0.0"
  description: "Simplified LSP testing with single repository per language"
  created: "2025-07-22"
  maintainer: "LSP Gateway Team"

repositories:
  go:
    name: "kubernetes"
    url: "https://github.com/kubernetes/kubernetes.git"
    commit: "master"
    commit_hash: ""
    description: "Kubernetes orchestration platform - comprehensive Go codebase"
    test_features: ["definitions", "references", "hover", "symbols", "formatting"]
    size_estimate_mb: 650
    setup_commands:
      - "go mod download"
      - "go mod tidy"
    validation:
      required_files: ["go.mod", "go.sum"]
      expected_directories: ["cmd", "pkg", "test"]
      min_go_files: 500

  python:
    name: "django"
    url: "https://github.com/django/django.git"
    commit: "main"
    commit_hash: ""
    description: "Django web framework - comprehensive Python framework"
    test_features: ["definitions", "references", "hover", "symbols", "linting", "formatting"]
    size_estimate_mb: 180
    setup_commands:
      - "python -m pip install -e ."
      - "python -m pip install -r tests/requirements/py3.txt"
    validation:
      required_files: ["setup.py", "pyproject.toml"]
      expected_directories: ["django", "tests", "docs"]
      min_py_files: 400

  typescript:
    name: "vscode"
    url: "https://github.com/microsoft/vscode.git"
    commit: "main"
    commit_hash: ""
    description: "Visual Studio Code editor - large TypeScript/JavaScript codebase"
    test_features: ["definitions", "references", "hover", "symbols", "formatting", "refactoring"]
    size_estimate_mb: 450
    setup_commands:
      - "npm install"
      - "npm run compile"
    validation:
      required_files: ["package.json", "tsconfig.json"]
      expected_directories: ["src", "extensions", "build"]
      min_ts_files: 800

  java:
    name: "spring-boot"
    url: "https://github.com/spring-projects/spring-boot.git"
    commit: "main"
    commit_hash: ""
    description: "Spring Boot framework - comprehensive Java enterprise framework"
    test_features: ["definitions", "references", "hover", "symbols", "formatting"]
    size_estimate_mb: 280
    setup_commands:
      - "./gradlew build -x test"
    validation:
      required_files: ["build.gradle", "gradlew"]
      expected_directories: ["spring-boot-project", "spring-boot-tests"]
      min_java_files: 600

# Simple configuration
config:
  base_directory: "./test-repositories"
  max_concurrent_clones: 4
  clone_timeout_minutes: 30
  shallow_clone: true
  verify_commits: true
  cleanup_on_failure: true

# Basic validation settings
validation:
  required_files:
    go: ["go.mod", "go.sum"]
    python: ["setup.py", "pyproject.toml"]
    typescript: ["package.json", "tsconfig.json"]
    java: ["build.gradle", "gradlew"]
  
  minimum_files:
    go: 100
    python: 50
    typescript: 100
    java: 150

# LSP Server basic settings
lsp_servers:
  go: "gopls"
  python: "pylsp"
  typescript: "tsserver"
  java: "jdtls"

# Test scenarios
test_scenarios:
  basic: ["hover", "definitions", "references"]
  standard: ["hover", "definitions", "references", "symbols", "formatting"]