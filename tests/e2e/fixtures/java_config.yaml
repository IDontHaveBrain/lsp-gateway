port: {{.TEST_PORT}}
timeout: "50s"

logging:
  level: info
  output: stderr
  
mcp:
  enabled: false

servers:
  - id: "java_server_{{.WORKSPACE_ID}}"
    languages: ["java"]
    command: "jdtls"
    args: [
      "-configuration", "{{.JDTLS_CACHE_DIR}}",
      "-data", "{{.TEST_WORKSPACE}}",
      "--add-modules=ALL-SYSTEM",
      "--add-opens", "java.base/java.util=ALL-UNNAMED",
      "--add-opens", "java.base/java.lang=ALL-UNNAMED"
    ]
    transport: "stdio"
    priority: 2
    weight: 2.0
    max_concurrent_requests: 80
    
    pool_config:
      min_size: 1
      max_size: 3
      warmup_size: 1
      enable_dynamic_sizing: true
      target_utilization: 0.65

    circuit_breaker:
      enabled: true
      failure_threshold: 10
      recovery_timeout: "30s"
      
    health_check:
      enabled: true
      interval: "15s"
      timeout: "8s"
      
    startup:
      timeout: "45s"
      max_retries: 3
      retry_delay: "2s"
      
    workspace:
      root_uri: "file://{{.TEST_WORKSPACE}}"
      folders:
        - uri: "file://{{.TEST_WORKSPACE}}"
          name: "{{.WORKSPACE_ID}}"